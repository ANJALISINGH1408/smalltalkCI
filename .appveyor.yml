environment:
  CYG_BASH: C:\cygwin\bin\bash
  matrix:
    - TRAVIS_SMALLTALK_VERSION: Squeak-trunk
    - TRAVIS_SMALLTALK_VERSION: Squeak-5.0
    - TRAVIS_SMALLTALK_VERSION: Pharo-6.0
    - TRAVIS_SMALLTALK_VERSION: Pharo-5.0

platform:
  - x86

clone_depth: 5

# Cygwin build script
#
# NOTES:
#
# The stdin/stdout file descriptor appears not to be valid for the Appveyor
# build which causes failures as certain functions attempt to redirect
# default file handles. Ensure a dummy file descriptor is opened with 'exec'.
test_script:
  - '%CYG_BASH% -lc "cd $APPVEYOR_BUILD_FOLDER; exec 0</dev/null; ./run.sh"'
